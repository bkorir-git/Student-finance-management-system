{% extends "base.html" %}

{% block title %}{{ 'Edit' if fee else 'Add' }} Fee Structure - {{ SCHOOL_NAME }}{% endblock %}

{% block content %}
<div class="container">
    <section>
        <div class="section-header">
            <h2>{{ 'Edit' if fee else 'Add New' }} Fee Structure</h2>
            <p>{{ 'Update' if fee else 'Define' }} fee structure details</p>
        </div>

        <div class="card" style="max-width: 600px; margin: 0 auto;">
            <form method="POST">
                <div class="form-group">
                    <label for="grade">Grade *</label>
                    <select id="grade" name="grade" class="form-control" required>
                        <option value="">Select Grade</option>
                        {% for i in range(1, 13) %}
                        <option value="{{ i }}" {% if fee and fee.grade == i|string %}selected{% endif %}>
                            Grade {{ i }}
                        </option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="term">Term *</label>
                    <select id="term" name="term" class="form-control" required>
                        <option value="Term 1" {% if fee and fee.term == 'Term 1' %}selected{% endif %}>Term 1</option>
                        <option value="Term 2" {% if fee and fee.term == 'Term 2' %}selected{% endif %}>Term 2</option>
                        <option value="Term 3" {% if fee and fee.term == 'Term 3' %}selected{% endif %}>Term 3</option>
                        <option value="Annual" {% if fee and fee.term == 'Annual' %}selected{% endif %}>Annual</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="fee_type">Fee Type *</label>
                    <select id="fee_type" name="fee_type" class="form-control" required>
                        <option value="Tuition" {% if fee and fee.fee_type == 'Tuition' %}selected{% endif %}>Tuition</option>
                        <option value="Books" {% if fee and fee.fee_type == 'Books' %}selected{% endif %}>Books</option>
                        <option value="Activities" {% if fee and fee.fee_type == 'Activities' %}selected{% endif %}>Activities</option>
                        <option value="Transport" {% if fee and fee.fee_type == 'Transport' %}selected{% endif %}>Transport</option>
                        <option value="Other" {% if fee and fee.fee_type == 'Other' %}selected{% endif %}>Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="amount">Amount ({{ CURRENCY }}) *</label>
                    <input type="number" id="amount" name="amount" class="form-control" 
                           step="0.01" value="{{ fee.amount if fee else '' }}" required>
                </div>

                <div class="form-group">
                    <label for="academic_year">Academic Year</label>
                    <input type="text" id="academic_year" name="academic_year" class="form-control" 
                           placeholder="e.g., 2024" value="{{ fee.academic_year if fee else '' }}">
                </div>

                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea id="description" name="description" class="form-control" rows="3">{{ fee.description if fee else '' }}</textarea>
                </div>

                <div class="modal-footer">
                    <button type="button" onclick="navigateTo('/fees')" class="btn btn-secondary">Cancel</button>
                    <button type="submit" class="btn btn-purple">
                        <i class="fas fa-save"></i> Save Fee Structure
                    </button>
                </div>
            </form>
        </div>
    </section>
</div>
{% endblock %}